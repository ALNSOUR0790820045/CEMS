# ูุธุงู ุฅุฏุงุฑุฉ ูุชุญููู ุงููุฎุงุทุฑ ููุนุทุงุกุงุช

## ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุทููุฑ ูุธุงู ุดุงูู ูุฅุฏุงุฑุฉ ูุชุญููู ุงููุฎุงุทุฑ ุงููุฑุชุจุทุฉ ุจุงูุนุทุงุกุงุช ูู ูุธุงู CEMS ERP. ูููุฑ ุงููุธุงู:
- ุฅุฏุงุฑุฉ ูุงููุฉ ููุนุทุงุกุงุช
- ุชุณุฌูู ูุชุชุจุน ุงููุฎุงุทุฑ
- ุชูููู ุงููุฎุงุทุฑ ุจุงุณุชุฎุฏุงู ูุตูููุฉ 5ร5
- ุญุณุงุจ ุงุญุชูุงุทู ุงููุฎุงุทุฑ (Contingency Reserve)
- ุฎุทุท ุงูุงุณุชุฌุงุจุฉ ูููุฎุงุทุฑ
- ุชูุงุฑูุฑ ุดุงููุฉ

## ูููู ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุงูุฌุฏุงูู ุงูููุดุฃุฉ

#### 1. `tenders` - ุฌุฏูู ุงูุนุทุงุกุงุช
```sql
- id
- company_id (FK โ companies)
- code (unique)
- title
- description
- submission_date
- estimated_value
- status (draft, submitted, won, lost)
- timestamps
- soft deletes
```

#### 2. `tender_risks` - ุฌุฏูู ุงููุฎุงุทุฑ
```sql
- id
- tender_id (FK โ tenders, cascade on delete)
- risk_code (unique)
- risk_category (11 ูุฆุฉ)
- risk_title
- risk_description
- probability + probability_score (1-5)
- impact + impact_score (1-5)
- risk_score (auto-calculated)
- risk_level (auto-calculated: low, medium, high, critical)
- cost_impact_min/max/expected
- schedule_impact_days
- response_strategy (avoid, mitigate, transfer, accept)
- response_plan
- response_cost
- status (identified, assessed, planned, monitored, closed)
- owner_id (FK โ users)
- timestamps
```

#### 3. `tender_risk_events` - ุณุฌู ุฃุญุฏุงุซ ุงููุฎุงุทุฑ
```sql
- id
- tender_risk_id (FK โ tender_risks, cascade)
- occurred_date
- description
- actual_cost_impact
- actual_schedule_impact_days
- actions_taken
- reported_by (FK โ users)
- timestamps
```

#### 4. `tender_contingency_reserves` - ุงุญุชูุงุทู ุงููุฎุงุทุฑ
```sql
- id
- tender_id (FK โ tenders, cascade)
- total_risk_exposure
- contingency_percentage
- contingency_amount (auto-calculated)
- justification
- timestamps
```

## ุงูููุงุฐุฌ (Models)

### TenderRisk Model
**ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ:**
- ุญุณุงุจ ุชููุงุฆู ูู `risk_score` ู `risk_level` ุนูุฏ ุงูุญูุธ
- ุชุฑุฌูุงุช ุนุฑุจูุฉ ูููุฆุงุช ูุงูุญุงูุงุช
- ุนูุงูุงุช ูุน Tender ู User ู TenderRiskEvent

**ุงูุญุณุงุจุงุช ุงูุชููุงุฆูุฉ:**
```php
risk_score = probability_score ร impact_score

if (score >= 21) level = 'critical'
elseif (score >= 13) level = 'high'
elseif (score >= 7) level = 'medium'
else level = 'low'
```

### Tender Model
**ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ:**
- ุนูุงูุงุช ูุน Company ู TenderRisk ู TenderContingencyReserve
- ุฏูุงู ูุณุงุนุฏุฉ ูุญุณุงุจ:
  - ุฅุฌูุงูู ุงูุชุนุฑุถ ูููุฎุงุทุฑ
  - ุนุฏุฏ ุงููุฎุงุทุฑ ุญุณุจ ุงููุณุชูู

### TenderContingencyReserve Model
**ุญุณุงุจ ุชููุงุฆู:**
```php
contingency_amount = (total_risk_exposure ร contingency_percentage) / 100
```

## ุงูุตูุญุงุช (Views)

### 1. ููุญุฉ ุงููุฎุงุทุฑ (`dashboard.blade.php`)
- ูุคุดุฑุงุช ุฃุฏุงุก ุฑุฆูุณูุฉ (KPIs)
  - ุฅุฌูุงูู ุงููุฎุงุทุฑ
  - ุงููุฎุงุทุฑ ุงูุญุฑุฌุฉ/ุงูุนุงููุฉ/ุงููุชูุณุทุฉ/ุงูููุฎูุถุฉ
- ูุตูููุฉ ุงููุฎุงุทุฑ 5ร5 ุชูุงุนููุฉ
- ุฃููุงู ูุดูุฑุฉ ุญุณุจ ูุณุชูู ุงูุฎุทูุฑุฉ

### 2. ูุงุฆูุฉ ุงููุฎุงุทุฑ (`index.blade.php`)
- ุฌุฏูู ุดุงูู ูุฌููุน ุงููุฎุงุทุฑ
- ููุงุชุฑ ุญุณุจ:
  - ุงููุณุชูู (ุญุฑุฌุ ุนุงููุ ูุชูุณุทุ ููุฎูุถ)
  - ุงููุฆุฉ (11 ูุฆุฉ)
  - ุงูุญุงูุฉ (5 ุญุงูุงุช)
- ุชุฑุชูุจ ุญุณุจ ุงููุชูุฌุฉ (ุชูุงุฒูู)
- ุฅุฌุฑุงุกุงุช (ุชุนุฏููุ ุญุฐู)

### 3. ูููุฐุฌ ุชุณุฌูู ุงููุฎุงุทุฑ (`create.blade.php`)
**ุฃูุณุงู ุงููููุฐุฌ:**

**ุงููุณู 1 - ุงูุชุนุฑูู:**
- ุงูููุฏ
- ุงููุฆุฉ
- ุงูุนููุงู
- ุงููุตู ุงูุชูุตููู

**ุงููุณู 2 - ุงูุชูููู:**
- ุงูุงุญุชูุงููุฉ (1-5) ูุน ุชูุณูุฑุงุช
  - 1: ูุงุฏุฑ ุฌุฏุงู (< 10%)
  - 2: ูุงุฏุฑ (10-30%)
  - 3: ูุญุชูู (30-50%)
  - 4: ูุฑุฌุญ (50-70%)
  - 5: ุดุจู ูุคูุฏ (> 70%)
- ุงูุชุฃุซูุฑ (1-5)
  - 1: ุถุฆูู ุฌุฏุงู
  - 2: ุทููู
  - 3: ูุชูุณุท
  - 4: ูุจูุฑ
  - 5: ูุงุฑุซู
- ุญุณุงุจ ุชููุงุฆู ูููุชูุฌุฉ ูุงููุณุชูู

**ุงููุณู 3 - ุงูุชุฃุซูุฑ:**
- ุงูุชุฃุซูุฑ ุงููุงูู (ุญุฏ ุฃุฏูู/ุฃูุตู/ูุชููุน)
- ุงูุชุฃุซูุฑ ุงูุฒููู (ุจุงูุฃูุงู)

**ุงููุณู 4 - ุงูุงุณุชุฌุงุจุฉ:**
- ุงุณุชุฑุงุชูุฌูุฉ ุงูุงุณุชุฌุงุจุฉ (4 ุฎูุงุฑุงุช)
- ุฎุทุฉ ุงูุงุณุชุฌุงุจุฉ
- ุชูููุฉ ุงูุงุณุชุฌุงุจุฉ
- ุงููุณุคูู

### 4. ูููุฐุฌ ุงูุชุนุฏูู (`edit.blade.php`)
- ููุณ ุจููุฉ ูููุฐุฌ ุงูุชุณุฌูู
- ุฅุถุงูุฉ ุญูู ุงูุญุงูุฉ
- ุนุฑุถ ุงูุจูุงูุงุช ุงูุญุงููุฉ

### 5. ูุตูููุฉ ุงููุฎุงุทุฑ ุงูุชูุงุนููุฉ (`matrix.blade.php`)
- ุดุจูุฉ 5ร5 ุชูุงุนููุฉ
- ุนุฑุถ ุนุฏุฏ ุงููุฎุงุทุฑ ูู ูู ุฎููุฉ
- ุฃููุงู ูุชุฏุฑุฌุฉ ุญุณุจ ุงููุณุชูู
- ุนุฑุถ ุฃููุงุฏ ุงููุฎุงุทุฑ ุนูุฏ ุงูุชูุฑูุฑ
- ุฃุณุทูุฑุฉ ุงูุฃููุงู

### 6. ุงุญุชูุงุทู ุงููุฎุงุทุฑ (`contingency.blade.php`)
- ููุฎุต ุงูุงุญุชูุงุทู:
  - ุฅุฌูุงูู ุงูุชุนุฑุถ ูููุฎุงุทุฑ
  - ูุณุจุฉ ุงูุงุญุชูุงุทู
  - ูุจูุบ ุงูุงุญุชูุงุทู ุงููุญุณูุจ
- ูููุฐุฌ ุชุญุฏูุซ ุงููุณุจุฉ ูุน ุงูุชุจุฑูุฑ
- ุดุฑุญ ูุทุฑููุฉ ุงูุญุณุงุจ

### 7. ุฎุทุฉ ุงูุงุณุชุฌุงุจุฉ (`response-plan.blade.php`)
- ุนุฑุถ ุดุงูู ููู ุงููุฎุงุทุฑ
- ููู ูุฎุงุทุฑุฉ:
  - ุงููุตู
  - ุงุณุชุฑุงุชูุฌูุฉ ุงูุงุณุชุฌุงุจุฉ
  - ุงูุฅุฌุฑุงุกุงุช ุงููุฎุทุทุฉ
  - ูุนูููุงุช ุฅุถุงููุฉ (ุงููุฆุฉุ ุงูุชุฃุซูุฑุ ุงููุณุคููุ ุงูุชูุงููู)
- ูุงุจู ููุทุจุงุนุฉ
- ุชุตููู ุงุญุชุฑุงูู

## ุงููุณุงุฑุงุช (Routes)

### ูุณุงุฑุงุช ุงูุนุทุงุกุงุช
```php
GET    /tenders                    - ูุงุฆูุฉ ุงูุนุทุงุกุงุช
GET    /tenders/create             - ูููุฐุฌ ุนุทุงุก ุฌุฏูุฏ
POST   /tenders                    - ุญูุธ ุนุทุงุก ุฌุฏูุฏ
GET    /tenders/{id}               - ุนุฑุถ ุนุทุงุก
GET    /tenders/{id}/edit          - ุชุนุฏูู ุนุทุงุก
PUT    /tenders/{id}               - ุชุญุฏูุซ ุนุทุงุก
DELETE /tenders/{id}               - ุญุฐู ุนุทุงุก
```

### ูุณุงุฑุงุช ุงููุฎุงุทุฑ
```php
GET    /tenders/{id}/risks/dashboard        - ููุญุฉ ุงููุฎุงุทุฑ
GET    /tenders/{id}/risks                  - ูุงุฆูุฉ ุงููุฎุงุทุฑ
GET    /tenders/{id}/risks/create           - ุชุณุฌูู ูุฎุงุทุฑุฉ
POST   /tenders/{id}/risks                  - ุญูุธ ูุฎุงุทุฑุฉ
GET    /tenders/{id}/risks/{rid}/edit       - ุชุนุฏูู ูุฎุงุทุฑุฉ
PUT    /tenders/{id}/risks/{rid}            - ุชุญุฏูุซ ูุฎุงุทุฑุฉ
DELETE /tenders/{id}/risks/{rid}            - ุญุฐู ูุฎุงุทุฑุฉ
GET    /tenders/{id}/risks/matrix           - ุงููุตูููุฉ ุงูุชูุงุนููุฉ
GET    /tenders/{id}/risks/contingency      - ุงุญุชูุงุทู ุงููุฎุงุทุฑ
POST   /tenders/{id}/risks/contingency      - ุชุญุฏูุซ ุงูุงุญุชูุงุทู
GET    /tenders/{id}/risks/response-plan    - ุฎุทุฉ ุงูุงุณุชุฌุงุจุฉ
```

## ุงูุญุณุงุจุงุช

### 1. ุญุณุงุจ ูุชูุฌุฉ ุงููุฎุงุทุฑุฉ
```
risk_score = probability_score ร impact_score
ุงูููู: 1-25
```

### 2. ุชุญุฏูุฏ ูุณุชูู ุงููุฎุงุทุฑุฉ
```
21-25: ุญุฑุฌ (Critical) โซ
13-20: ุนุงูู (High) ๐ด
7-12:  ูุชูุณุท (Medium) ๐ก
1-6:   ููุฎูุถ (Low) ๐ข
```

### 3. ุฅุฌูุงูู ุงูุชุนุฑุถ ูููุฎุงุทุฑ
```
Total Exposure = ฮฃ [(probability_score/5) ร cost_impact_expected]
```

### 4. ุงุญุชูุงุทู ุงููุฎุงุทุฑ
```
Contingency = Total Exposure ร contingency_percentage / 100
```

## ูููุฒุงุช ุงูุชุตููู

### ุฏุนู ูุงูู ููุนุฑุจูุฉ (RTL)
- ุฌููุน ุงููุงุฌูุงุช ูุตููุฉ ูููุฑุงุกุฉ ูู ุงููููู ูููุณุงุฑ
- ุฎุท Cairo ูู Google Fonts
- ุชุฑุฌูุฉ ูุงููุฉ ูุฌููุน ุงููุตูุต

### ุชุตููู ุงุญุชุฑุงูู
- ูุณุชูุญู ูู ุชุตููู Apple
- ุฃููุงู ูุงุฏุฆุฉ ููุงุถุญุฉ
- ุงูุชูุงูุงุช ุณูุณุฉ
- ุงุณุชุฌุงุจุฉ ูุงููุฉ (Responsive)
- ุทุจุงุนุฉ ุงุญุชุฑุงููุฉ ููุชูุงุฑูุฑ

### ุชุฌุฑุจุฉ ูุณุชุฎุฏู ููุชุงุฒุฉ
- ููุงุฐุฌ ุชูุงุนููุฉ ูุน ุญุณุงุจุงุช ููุฑูุฉ
- ุฑุณุงุฆู ุชุฃููุฏ ูุงุถุญุฉ
- ููุงุชุฑ ุณุฑูุนุฉ
- ุชููู ุณูู ุจูู ุงูุตูุญุงุช
- ูุคุดุฑุงุช ุจุตุฑูุฉ ูุงุถุญุฉ

## ููููุฉ ุงูุงุณุชุฎุฏุงู

### 1. ุฅูุดุงุก ุนุทุงุก ุฌุฏูุฏ
1. ุงูุชูู ุฅูู `/tenders`
2. ุงููุฑ ุนูู "ุนุทุงุก ุฌุฏูุฏ"
3. ุฃุฏุฎู ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ
4. ุงุญูุธ ุงูุนุทุงุก

### 2. ุฅุฏุงุฑุฉ ุงููุฎุงุทุฑ
1. ูู ูุงุฆูุฉ ุงูุนุทุงุกุงุชุ ุงููุฑ ุนูู "๐ ุงููุฎุงุทุฑ"
2. ุณูุชู ูุชุญ ููุญุฉ ุงููุฎุงุทุฑ
3. ุงููุฑ ุนูู "ูุฎุงุทุฑุฉ ุฌุฏูุฏุฉ"
4. ุฃููู ุงููููุฐุฌ ุงููููู ูู 4 ุฃูุณุงู
5. ุงุญูุธ ุงููุฎุงุทุฑุฉ

### 3. ูุฑุงุฌุนุฉ ุงููุฎุงุทุฑ
- **ููุญุฉ ุงููุฎุงุทุฑ**: ุนุฑุถ ุณุฑูุน ูููุคุดุฑุงุช ูุงููุตูููุฉ
- **ูุงุฆูุฉ ุงููุฎุงุทุฑ**: ุชุตูุญ ูููุชุฑุฉ ุฌููุน ุงููุฎุงุทุฑ
- **ุงููุตูููุฉ ุงูุชูุงุนููุฉ**: ุชุญููู ุจุตุฑู ูููุฎุงุทุฑ
- **ุงุญุชูุงุทู ุงููุฎุงุทุฑ**: ุญุณุงุจ ุงููุจูุบ ุงููุทููุจ
- **ุฎุทุฉ ุงูุงุณุชุฌุงุจุฉ**: ูุซููุฉ ุดุงููุฉ ูุงุจูุฉ ููุทุจุงุนุฉ

## ุงูุชูุงูู ุงููุณุชูุจูู

ุงููุธุงู ุฌุงูุฒ ููุชูุงูู ูุน:
- โ ุฑุจุท ุจุงูุนุทุงุก (ููุฌูุฏ)
- ๐ ููู ูููุดุฑูุน ุนูุฏ ุงูููุฒ (ููุฏ ุงูุชุทููุฑ)
- ๐ ุชุฃุซูุฑ ุนูู ุงูุณุนุฑ (Contingency) (ููุฏ ุงูุชุทููุฑ)
- ๐ ุชูุงุฑูุฑ PDF ูุชูุฏูุฉ (ููุฏ ุงูุชุทููุฑ)

## ุงูุฃูุงู

- ุฌููุน ุงูุนูููุงุช ูุญููุฉ ุจู CSRF Token
- ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช (Validation)
- ุนูุงูุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุน Cascade Delete
- Soft Delete ููุนุทุงุกุงุช

## ุงูุชูุงูู

- Laravel 12.x
- PHP 8.2+
- PostgreSQL / MySQL / SQLite
- ูุชุตูุญุงุช ุญุฏูุซุฉ (Chrome, Firefox, Safari, Edge)

## ุงูุฎูุงุตุฉ

ุชู ุชุทููุฑ ูุธุงู ูุชูุงูู ูุดุงูู ูุฅุฏุงุฑุฉ ุงููุฎุงุทุฑ ูู ุงูุนุทุงุกุงุช ูุชุถูู:
- 4 ุฌุฏุงูู ูุงุนุฏุฉ ุจูุงูุงุช
- 5 ููุงุฐุฌ (Models)
- 2 ูุชุญููุงุช (Controllers)
- 9 ูุงุฌูุงุช (Views)
- 18+ ูุณุงุฑ (Routes)
- ุญุณุงุจุงุช ุชููุงุฆูุฉ
- ุชุตููู ุงุญุชุฑุงูู RTL
- ุชุฌุฑุจุฉ ูุณุชุฎุฏู ููุชุงุฒุฉ

ุงููุธุงู ุฌุงูุฒ ููุงุณุชุฎุฏุงู ููุงุจู ููุชูุณุน ูุงูุชุทููุฑ.
